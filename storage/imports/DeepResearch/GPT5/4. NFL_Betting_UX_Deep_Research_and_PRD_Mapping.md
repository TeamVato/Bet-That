---
title: "NFL Betting UX: Deep Research & PRD Mapping"
description: "Desktop-first UX research, wireframes, tooltip and review specs, and schema mapping for NFL bettors (beginners + sharps)"
version: "1.0"
generated_utc: "2025-09-25 03:45:09Z"
---

# NFL Betting UX: Deep Research & PRD Mapping

> **Scope:** NFL only ‚Ä¢ Desktop-first (with mobile notes) ‚Ä¢ Mixed audience (beginners + sharps)  
> **Workflow focus:** scan ‚Üí shortlist ‚Üí bet card ‚Üí review  
> **Core objective:** minimize time-to-decision while maintaining clarity and explainability

---

## Table of Contents
1. [Executive Summary](#executive-summary)
2. [Success Metrics & Measurement](#success-metrics--measurement)
3. [Competitive Pattern Library](#competitive-pattern-library)
4. [Top Plays ‚Äî Wireframes](#top-plays--wireframes)
5. [Filters & Defaults](#filters--defaults)
6. [Line-Shopping Specification](#line-shopping-specification)
7. [‚ÄúWhy‚Äù Tooltip Specification](#why-tooltip-specification)
8. [Steam Alerts Specification](#steam-alerts-specification)
9. [Post-Bet Review Specification](#post-bet-review-specification)
10. [PRD Mapping ‚Äî UI ‚Üí Data Schema](#prd-mapping--ui--data-schema)
11. [Data Schema (Dims & Facts) + DDL](#data-schema-dims--facts--ddl)
12. [Exports (Parquet, CSV, SQLite Views)](#exports-parquet-csv-sqlite-views)
13. [Accessibility & Performance](#accessibility--performance)
14. [Error & Empty States](#error--empty-states)
15. [Open Questions & Next Steps](#open-questions--next-steps)

---

## Executive Summary

This document consolidates the **design system and research findings** for an NFL betting platform optimized for **time-to-decision**. The solution delivers:
- A **Top Plays** list showing only **must-have** row fields (player/team, market & line, **best price**, EV/$, Kelly %, confidence, defense tier badge, stale age, quick-add).
- A **row drawer** for deeper context (all-books price grid, price history mini-chart, scheme/pace, WR‚ÄìCB notes, injuries, weather).
- Sensible **defaults** (hide stale, sort by EV/$, min EV threshold) and powerful **filters** (position, book, market type, stingy/generous defense).
- Clear **‚ÄúWhy‚Äù tooltips** (‚â§200 chars) to explain recommendations without clutter.
- Real-time **Steam Alerts** for multi-book, same-direction moves.
- **Post-bet review** that anchors on **CLV vs close**, outcome, and calibration buckets.
- A rigorous **PRD mapping** to the provided schema (`fact_edges`, `fact_odds_latest`, `fact_odds_snapshot`, `steam_events`, `bets`, `closing_lines`, `clv_log`, `fact_defense_ratings`, `fact_team_week_scheme`, `fact_injuries`, `fact_weather`, `dim_*`).

Together, these patterns let beginners act confidently while enabling sharps to drill down, line-shop, and iterate quickly.

---

## Success Metrics & Measurement

**Primary KPI (speed):**
- **T2B (Time-to-Bet):** median seconds from first list render ‚Üí ‚ÄúAdd to Bet Slip.‚Äù
  - Target: **‚â§ 20s** desktop, **‚â§ 30s** mobile, for users familiar with the UI.

**Secondary KPIs:**
- **Click depth to add** (median): **‚â§ 2** (open app ‚Üí add; drawer optional).
- **% of bets placed at best available price:** **‚â• 80%** (with line-shopping enabled).
- **% of user bets beating closing line (CLV%):** trend **‚Üë** week-over-week.
- **Tooltip utilization rate:** hover/tap rate on ‚ìò; aim **10‚Äì20%** (healthy curiosity).
- **Drawer bounce:** % of rows where drawer is opened but bet not added; track for tuning.
- **Error rate:** odds changed/market closed mid-flow; aim **< 3%** with real-time updates.

**Instrumentation notes:**
- Emit events: `list_render`, `row_expand`, `tooltip_open`, `add_to_slip`, `bet_place`.
- Log `edge_pct_at_add`, `book_key_selected`, `odds_at_add`, and re-evaluate EV after add.

---

## Competitive Pattern Library

| Pattern | What to Borrow | Why It‚Äôs Fast | Caution/Tradeoff |
|---|---|---|---|
| Quick bet slip | One-click add to slip (side panel) | Minimizes context switches; keeps user on the list | Confirm stake & odds-changed guardrail |
| Top picks | Personalized/high-signal ‚ÄúTop Plays‚Äù | Reduces search; curates options for beginners | Ensure transparency via tooltips |
| Positive EV surfacing | Rank by EV/$; badge + color | Guides to profitable bets first | Avoid overstating EV; show method |
| Defense filters | Stingy/generous badges & filter | Rapid triage by matchup context | Don‚Äôt overfit to small samples |
| Line shopping | Best price shown by default | Maximizes value with zero effort | Keep comparison 1 click away |
| ‚ÄúWhy‚Äù tooltips | ‚â§200 chars, structured | Explainability w/o list clutter | Enforce brevity, consistent format |
| Steam alerts | üî• icon, ticker, opt-in push | Timely action during moves | Throttle noise; user controls |
| CLV review | % beat close, color coding | Teaches good process, not just outcomes | Explain CLV simply; show trend |

---

## Top Plays ‚Äî Wireframes

**Desktop: Table (must-have fields only)**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Filters: Pos [QB/RB/WR/TE]  Book [All]  Market [Yds/Recs/TD]  Def Tier [All]  EV‚â• [0%]  [x] Hide stale  Search[ ]    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Player/Team          Market & Line        Best Price     EV/$   Kelly%   Conf   DEF   Age   +Card   ‚ìò Why             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ J. Allen (BUF @ KC)  Pass Yds  O 285.5    DK  -110  ‚òÖ    +8%    4.0%     0.78   üü¢     3m    [+]     (i)              ‚îÇ
‚îÇ C. McCaffrey (SF v DAL) Rush+Rec O 115.5  FD  -105  ‚òÖ    +5%    2.1%     0.61   üî¥     6m    [+]     (i)              ‚îÇ
‚îÇ J. Jefferson (MIN @ GB) Rec TD  O 0.5     MGM +140  ‚òÖ    +12%   5.5%     0.72   üü¢     2m    [+]     (i)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
Legend: ‚òÖ best price; DEF badge üü¢ generous / üî¥ stingy / ‚ö™ neutral; Age = time since odds update.
```

**Drawer (row expander)**
```
[Header]  Player ‚Ä¢ Team @ Opp ‚Ä¢ Market & Line ‚Ä¢ Current Odds (Best Book)
[Matchup] Opponent rank vs stat (e.g., 28th vs Pass); scheme/pace (PROE, tempo)
[WR/CB]   Primary coverage notes (if available)
[Form]    Last 5 results vs line (mini sparkline or list)
[Injury]  Key statuses (team + opponent); show only if relevant
[Weather] Temp, wind, precip (indoor: ‚ÄúDome ‚Äì n/a‚Äù)
[Movement] Price/line history (snapshots) + steam annotations
[Books]   Other books for same market/line: small table (best highlighted)
[Actions] Add to Slip ‚Ä¢ Deep link to book (if integrated)
```

**Mobile notes**
- Card layout with sticky ‚ÄúAdd to Slip‚Äù button.
- Tap row ‚Üí full-screen drawer. Horizontal chip filters.

---

## Filters & Defaults

- **Position:** QB/RB/WR/TE chips; default **All**.
- **Market Type:** Passing/Rushing/Receiving/TD/Combos; default **All**.
- **Defense Tier:** Show All; quick toggle **Hide Tough (Top-8)**; **Show Favorable (Bottom-8)**.
- **Books:** All books by default; **My Books** mode respects user‚Äôs set (recalc EV).
- **EV Threshold:** Default **‚â• 0%**; ‚ÄúElite only‚Äù preset **‚â• 5%**.
- **Sort:** Default **EV/$ desc**. Alternatives: Kelly%, Confidence, Age (freshest), Time.
- **Stale/Live:** Hide stale/locked by default; upcoming only. (Toggle to include live if desired.)

**Rationale:** Defaults curate a high-signal list, helping beginners act quickly. Sharps can widen the funnel by relaxing thresholds or including tougher matchups.

---

## Line-Shopping Specification

- **Row shows best available price** (book logo + odds) for selected side and line.
- **Comparison panel** (in drawer): table of all books for same `(event_id, market_key, outcome_side, line)`.
- **Sort** by payout value for the side shown; mark **Best**.
- **One-click**: deep link to book or add that book‚Äôs selection to slip (if integrated).
- **Auto-refresh** on odds change; flash cell on update.
- **User books** prioritized if set; show others greyed to educate market range.
- **Recalc EV** if user switches book/price.

Example table:
```
Book        Line     Odds     Delta vs Best
DraftKings  285.5    -110     Best
FanDuel     284.5    -118     Worse line
BetMGM      285.5    -115     -5c
Caesars     286.5    -110     Worse line
```

---

## ‚ÄúWhy‚Äù Tooltip Specification

**Goal:** ‚â§200 chars, consistent, actionable.  
**Template priority:**  
1) **Model vs Line**  ‚Üí ‚ÄúProj 302 vs 285.5 ‚áí +6% EV.‚Äù  
2) **Matchup**        ‚Üí ‚ÄúOpp D: 28th vs Pass.‚Äù  
3) **Recent/Injury**  ‚Üí ‚ÄúLast 3 avg 310.‚Äù / ‚ÄúWR1 out ‚Äì usage ‚Üë.‚Äù  
4) **Move (optional)**‚Üí ‚ÄúLine ‚Üë from 275.5 (steam).‚Äù

**Rules**
- Always include **(1)** and at least one of **(2‚Äì4)**.  
- Abbreviations: Proj, Opp D, yds, recs, TDs, ‚áí, ‚Üë/‚Üì.  
- Avoid jargon; prefer plain numerics.  
- If data missing, **omit** that fragment‚Äînever show ‚ÄúN/A‚Äù.

**Examples (all ‚â§200 chars)**
- *‚ÄúProj 302 vs 285.5 ‚áí +6% EV. Opp D 28th vs Pass. Line ‚Üë from 275.5.‚Äù*  
- *‚ÄúProj 7.2 rec vs 6.5 ‚áí +5% EV. WR2 out ‚Äì targets ‚Üë.‚Äù*  
- *‚ÄúProj 65 rush vs 58.5 ‚áí +4% EV. Opp D #30 vs run.‚Äù*

---

## Steam Alerts Specification

- **Trigger:** multi-book, same-direction move within short window (e.g., ‚â•15c or ‚â•5 yds in ‚â§10m).  
- **UI:** üî• icon on affected rows; optional ticker of latest moves; highlight in drawer history.  
- **Notifications:** opt-in push/email; per-sport thresholds; quiet hours.  
- **Controls:** user-level on/off, significance filter, follow teams/players watchlist.  
- **Mobile:** Alerts screen + in-row badges; deep link to affected play.  
- **Copy:** ‚ÄúLine change alert: rapid market move.‚Äù (tooltip succinct).

---

## Post-Bet Review Specification

**Overview KPIs**  
- Wins/Losses/Pushes, Profit/Units, Avg Odds.

**CLV section**
- **% Beat CLV** (green if ‚â•50‚Äì60%).  
- **Avg CLV delta** (cents or implied prob pts).  
- **Value gained** (sum of advantage vs close).  
- Simple chart: green (beat) vs red (missed).

**Calibration buckets**
- Group by **edge at bet time** (e.g., >10%, 2‚Äì10%, ‚â§0%).  
- Show **expected vs actual** win rate per bucket; call out variance.

**Bet ledger (rows)**
- Description ‚Ä¢ Stake ‚Ä¢ **Odds at bet** vs **Closing odds** ‚Ä¢ CLV (green/red) ‚Ä¢ Result.  
- Notes: ‚ÄúGood process (beat CLV) but lost‚Äù vs ‚ÄúWon, but bad CLV‚Äù.

**Filters**
- Timeframe, market type, team, result type. Export to CSV.  
- Glossary tooltips for CLV/EV.

---

## PRD Mapping ‚Äî UI ‚Üí Data Schema

| UI Element | Table.Column(s) | Notes |
|---|---|---|
| Player name | dim_player.full_name | join via player_id |
| Position | dim_player.position |  |
| Team & Opponent | dim_team.team_abbr + dim_game.home/away | derive opponent from game context |
| Market label | dim_market.description | e.g., ‚ÄúPassing Yards‚Äù |
| Line value | fact_odds_latest.line | numeric (e.g., 285.5) |
| Odds (price) | fact_odds_latest.price_american | displayed as American; compute implied as needed |
| Best book | dim_book.title (via fact_odds_latest.book_key) | select best for outcome+line |
| EV / Edge | fact_edges.ev_per_dollar or derived from model_prob & odds | show % |
| Kelly % | fact_edges.kelly_frac | 0‚Äì1; display as % |
| Confidence | fact_edges.confidence | 0‚Äì1; display 0‚Äì100 |
| Defense tier/badge | fact_defense_ratings.tier | per pos_bucket |
| Defense score/rank | fact_defense_ratings.score | optional text in drawer |
| Scheme/Pace | fact_team_week_scheme.* | PROE, early_down_pass_rate, pace |
| Injuries | fact_injuries.status/practice_status | hide if null |
| Weather | fact_weather.temp_f/wind_mph/precip/indoor | concise badges/text |
| Price history | fact_odds_snapshot.* | plot/annotate moves |
| Steam indicator | steam_events.* | recent for market/game |
| Line-shopping grid | fact_odds_latest + dim_book | all books for same (event, market, side, line) |
| Add to slip | bets (write) | log odds_at_bet, model_prob_at_bet |
| Closing line | closing_lines.odds_am_close/implied_close | per bet |
| CLV log | clv_log.clv_decimal_pct/clv_implied_diff | compute % beat close |
| Review aggregates | bets + closing_lines + clv_log | rollups/KPIs |

---

## Data Schema (Dims & Facts) + DDL

### Dimension Tables

- **dim_game**: `event_id (PK) ‚Ä¢ season ‚Ä¢ week ‚Ä¢ commence_time_utc ‚Ä¢ home_team_id ‚Ä¢ away_team_id ‚Ä¢ venue ‚Ä¢ is_indoor`  
- **dim_team**: `team_id (PK) ‚Ä¢ team_abbr ‚Ä¢ conference ‚Ä¢ division`  
- **dim_player**: `player_id (PK) ‚Ä¢ full_name ‚Ä¢ position ‚Ä¢ team_id ‚Ä¢ depth_chart_pos (nullable)`  
- **dim_book**: `book_key (PK) ‚Ä¢ title`  
- **dim_market**: `market_key (PK) ‚Ä¢ description ‚Ä¢ unit ‚Ä¢ sides`  

### Fact Tables (selected)

**fact_odds_snapshot** ‚Äî one row per snapshot per outcome  
```sql
CREATE TABLE IF NOT EXISTS fact_odds_snapshot (
  snapshot_ts_utc TEXT NOT NULL,
  event_id TEXT NOT NULL,
  book_key TEXT NOT NULL,
  market_key TEXT NOT NULL,
  outcome_side TEXT NOT NULL,
  line REAL,
  price_american INTEGER NOT NULL,
  price_decimal REAL,
  last_update_utc TEXT,
  ingest_source TEXT NOT NULL,
  is_partial INTEGER DEFAULT 0,
  overround_pct REAL,
  season INTEGER,
  PRIMARY KEY (snapshot_ts_utc, event_id, book_key, market_key, outcome_side, line)
);
```

**fact_edges** ‚Äî one row per priced edge shown in UI  
```sql
CREATE TABLE IF NOT EXISTS fact_edges (
  edge_id TEXT PRIMARY KEY,
  created_at_utc TEXT NOT NULL,
  event_id TEXT NOT NULL,
  book_key TEXT NOT NULL,
  market_key TEXT NOT NULL,
  outcome_side TEXT NOT NULL,
  line REAL,
  player_id TEXT,
  team_id TEXT,
  implied_prob REAL,
  fair_prob REAL,
  model_prob REAL,
  model_prob_shrunk REAL,
  ev_per_dollar REAL,
  kelly_frac REAL,
  confidence REAL,
  def_tier TEXT,
  def_score REAL,
  season INTEGER,
  week INTEGER,
  stale_flag INTEGER DEFAULT 0
);
```

**Additional facts (for UI)**  
- **fact_odds_latest** (view/materialized): latest per (event, market, book, side, line).  
- **fact_team_week_scheme**: `team_id ‚Ä¢ season ‚Ä¢ week ‚Ä¢ proe ‚Ä¢ early_down_pass_rate ‚Ä¢ pace`  
- **fact_defense_ratings**: `def_team_id ‚Ä¢ pos_bucket ‚Ä¢ season ‚Ä¢ week ‚Ä¢ score ‚Ä¢ tier`  
- **fact_injuries**: `player_id ‚Ä¢ status ‚Ä¢ practice_status ‚Ä¢ updated_at_utc ‚Ä¢ source_url`  
- **fact_weather**: `event_id ‚Ä¢ temp_f ‚Ä¢ wind_mph ‚Ä¢ precip ‚Ä¢ indoor ‚Ä¢ updated_at_utc`  
- **bets / closing_lines / clv_log / steam_events** (as defined earlier).

### Odds Flattening Example

**API ‚Üí Snapshot rows**
```csv
snapshot_ts_utc,event_id,book_key,market_key,outcome_side,line,price_american,last_update_utc,ingest_source,season
2025-09-24T14:32:20Z,a512a48a...,fanduel,player_pass_yds,over,273.5,-115,2025-09-24T14:32:11Z,odds_api,2025
2025-09-24T14:32:20Z,a512a48a...,fanduel,player_pass_yds,under,273.5,-105,2025-09-24T14:32:11Z,odds_api,2025
```

**Edge row (what UI reads)**
```csv
created_at_utc,event_id,book_key,market_key,outcome_side,line,player_id,implied_prob,fair_prob,model_prob,ev_per_dollar,kelly_frac,confidence,def_tier,season,week,stale_flag
2025-09-24T14:33:05Z,a512a48a...,fanduel,player_pass_yds,under,273.5,abcd-1234,0.512,0.505,0.560,0.11,0.05,0.78,stingy,2025,4,0
```

---

## Exports (Parquet, CSV, SQLite Views)

- **Parquet**: All dims/facts by date partition (e.g., `storage/exports/run_YYYYMMDD/‚Ä¶`).  
- **CSV**: Edges_Daily, Bets, Closing_Lines, CLV_Report, Steam_Events (for Sheets).  
- **SQLite**: views like `edges_view` joining `fact_edges` with dims for UI.

---

## Accessibility & Performance

- **Keyboard**: Tab/Enter on rows; space to expand; Esc to close drawer; shortcuts to add to slip.  
- **Color/Icons**: Don‚Äôt rely on color alone (badges include letters/icons).  
- **Typography**: Numeric columns right-aligned; consistent units; large click targets.  
- **Skeletons**: List and drawer skeletons on load; optimistic UI for add-to-slip.  
- **Perf**: Virtualized list; debounce filter; websocket for odds updates; background diff to avoid reflow.

---

## Error & Empty States

- **Empty list**: ‚ÄúNo plays match your filters. Reset?‚Äù + quick reset button.  
- **Odds changed**: Inline prompt: ‚ÄúOdds updated -110 ‚Üí -118. Confirm?‚Äù  
- **Market closed**: Disable row action; tooltip ‚ÄúMarket closed/locked‚Äù.  
- **Drawer sub-errors**: Show ‚ÄúN/A‚Äù silently; never block core actions.  
- **Review empty**: Education card about CLV/Review benefits with CTA to explore Top Plays.

---

## Open Questions & Next Steps

**Open questions**
1. Do we support **live betting** in Top Plays, or keep it pre-game only?  
2. WR/CB data source scope? If not integrated, keep as optional text.  
3. Minimum **edge threshold** for default surfacing (2% vs 0%)?  
4. Exact **steam thresholds** per market (yards, cents, points)?  
5. **My Books**: how to set/learn user book availability at onboarding?

**Next steps**
- Validate wireframes with 5 users (2 beginners, 3 sharps); measure T2B and comprehension.  
- Implement odds ETL to `fact_odds_snapshot` ‚Üí `fact_odds_latest`; compute `fact_edges`.  
- Build Top Plays list + drawer; integrate line-shopping.  
- Add tooltip generator w/ templates and fallbacks.  
- Implement steam detection ‚Üí `steam_events` and UI alerts.  
- Ship review panel (CLV, calibration).  
- Iterate based on telemetry (T2B, % best price, CLV%).

---

*Generated automatically on 2025-09-25 03:45:09Z.*
